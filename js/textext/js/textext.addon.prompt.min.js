(function(t){function n(){}t.fn.textext.TextExtPrompt=n,t.fn.textext.addPlugin("prompt",n);var o=n.prototype,i="text-hide-prompt",e="prompt",p="html.prompt",r={prompt:"Awaiting input...",html:{prompt:'<div class="text-prompt"/>'}};o.init=function(n){var o,i,s=this,a="placeholder";s.baseInit(n,r),o=t(s.opts(p)),t(s).data("container",o),s.core().wrapElement().append(o),s.setPrompt(s.opts(e)),i=n.input().attr(a),i||(i=s.opts(e)),n.input().attr(a,""),i&&s.setPrompt(i),t.trim(s.val()).length>0&&s.hidePrompt(),s.on({blur:s.onBlur,focus:s.onFocus,postInvalidate:s.onPostInvalidate,postInit:s.onPostInit})},o.onPostInit=function(t){this.invalidateBounds()},o.onPostInvalidate=function(t){this.invalidateBounds()},o.invalidateBounds=function(){var t=this,n=t.input();t.containerElement().css({paddingLeft:n.css("paddingLeft"),paddingTop:n.css("paddingTop")})},o.onBlur=function(t){var n=this;n.startTimer("prompt",.1,function(){n.showPrompt()})},o.showPrompt=function(){var n=this,o=n.input();0!==t.trim(n.val()).length||o.is(":focus")||n.containerElement().removeClass(i)},o.hidePrompt=function(){this.stopTimer("prompt"),this.containerElement().addClass(i)},o.onFocus=function(t){this.hidePrompt()},o.setPrompt=function(t){this.containerElement().text(t)},o.containerElement=function(){return t(this).data("container")}})(jQuery);